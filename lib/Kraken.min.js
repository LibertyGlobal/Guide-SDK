/*! Kraken 2013-06-20 */
"undefined"==typeof exports&&(this.kraken={}),function(a){a.config={APIURL:"http://appdev.io/kraken/v2/schedule/"}}("undefined"==typeof exports?this.kraken:exports),function(a){a.utils={}}("undefined"==typeof exports?this.kraken:exports),function(a){a.jsonp=function(){function a(a,b){var c=document.createElement("script"),e=!1;c.src=a,c.async=!0;var f=b||g.error;"function"==typeof f&&(c.onerror=function(b){f({url:a,event:b})}),c.onload=c.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,c.onload=c.onreadystatechange=null,c&&c.parentNode&&c.parentNode.removeChild(c))},d||(d=document.getElementsByTagName("head")[0]),d.appendChild(c)}function b(a){return encodeURIComponent(a)}function c(c,d,h,i){var j,k=-1===(c||"").indexOf("?")?"?":"&";i=i||g.callbackName||"callback";var l=i+"_json"+ ++e;d=d||{};for(j in d)d.hasOwnProperty(j)&&(k+=b(j)+"="+b(d[j])+"&");return f[l]=function(a){h(a);try{delete f[l]}catch(b){}f[l]=null},a(c+k+i+"="+l),l}var d,e=0,f=this,g={};return c}()}("undefined"==typeof exports?this.kraken:exports),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Object.create||(Object.create=function(){function a(){}return function(b){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}()),function(a){a.AbstractField=function(a){this.name=a,this.operations=[]};var b=a.AbstractField.prototype;b.toString=function(){return this.name},b.getStringForOperation=function(a,b){return this.name+a+b}}("undefined"==typeof exports?this.kraken:exports),function(a){a.NumericField=function(b){a.AbstractField.call(this,b)};var b=a.NumericField.prototype=Object.create(a.AbstractField.prototype);b.equalTo=function(a){return this.getStringForOperation("=",a)},b.greaterThan=function(a){return this.getStringForOperation(">",a)},b.lessThan=function(a){return this.getStringForOperation("<",a)}}("undefined"==typeof exports?this.kraken:exports),function(a){a.TextField=function(b){a.AbstractField.call(this,b)};var b=a.TextField.prototype=Object.create(a.AbstractField.prototype);b.equalTo=function(a){return this.getStringForOperation("=",a)},b.isMatching=function(a){return this.getStringForOperation("~",a)}}("undefined"==typeof exports?this.kraken:exports),function(a){a.Request=function(){this.initialRequestURL="",this.nextBatchLink=""};var b=a.Request.prototype;b.execute=function(b,c){a.jsonp(b,{},c)}}("undefined"==typeof exports?this.kraken:exports),function(a){a.Collection=function(){this.items=[]};var b=a.Collection.prototype;b.each=function(a){for(var b=0;b<this.items.length;b++)a.apply(this,[this.items[b],b])},b.where=function(){},b.add=function(a){a instanceof Array?this.items=this.items.concat(a):this.items.push(a)},b.get=function(a){return this.items[a]}}("undefined"==typeof exports?this.kraken:exports),function(a){a.EntityBase=function(){a.Collection.call(this),this.URLelements=[],this.requestURL="",this.baseURL="",this.request=new a.Request};var b=a.EntityBase.prototype=Object.create(a.Collection.prototype);b.limit=function(a){this.addURLElement("maxBatchSize="+a)},b.fields=function(){this.addURLElement("show=");for(var a=0;a<arguments.length;a++)this.addURLElement(arguments[a])},b.sort=function(a,b){void 0===b&&(b="asc"),this.addURLElement("sort="+a+"("+b+")")},b.filter=function(){for(var a=0;a<arguments.length;a++)this.addURLElement(arguments[a])},b.addURLElement=function(a){this.URLelements.push(a)},b.buildURLFromElements=function(){this.requestURL=a.config.APIURL,this.requestURL+=this.baseURL;for(var b=0;b<this.URLelements.length;b++)this.requestURL+=this.URLelements[b],b<this.URLelements.length-1&&(this.requestURL+="&");return this.requestURL},b.processData=function(a){this.add(a.data)},b.createScopedCallback=function(a){var b=function(b){this.processData(b),a.bind(this)(b)};return b.bind(this)},b.one=function(a){this.buildURLFromElements(),this.request.execute(this.requestURL,this.createScopedCallback(a),1)},b.next=function(a){this.request.execute(this.request.nextBatchLink||this.buildURLFromElements(),this.createScopedCallback(a),1)},b.all=function(a){this.buildURLFromElements(),this.request.execute(this.requestURL,this.createScopedCallback(a),0)}}("undefined"==typeof exports?this.kraken:exports),function(a){a.Country=function(){a.EntityBase.call(this),this.baseURL="regions.json"},a.Country.prototype=Object.create(a.EntityBase.prototype)}("undefined"==typeof exports?this.kraken:exports),function(a){a.City=function(){a.EntityBase.call(this),this.baseURL="/cities/"},a.City.prototype=Object.create(a.EntityBase.prototype)}("undefined"==typeof exports?this.kraken:exports),function(a){a.Channel=function(){a.EntityBase.call(this),this.baseURL="channels.json?"},a.Channel.prototype=Object.create(a.EntityBase.prototype)}("undefined"==typeof exports?this.kraken:exports),function(a){a.Broadcast=function(){a.EntityBase.call(this),this.baseURL="broadcasts.json?"},a.Broadcast.prototype=Object.create(a.EntityBase.prototype)}("undefined"==typeof exports?this.kraken:exports);